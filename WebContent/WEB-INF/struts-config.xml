<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE struts-config PUBLIC
		"-//Apache Software Foundation//DTD Struts Configuration 1.3//EN"
		"http://struts.apache.org/dtds/struts-config_1_3.dtd">


<struts-config>

	<form-beans>
		<!-- reservation form등록 시작!! -->
		<!-- 고객용: 예약(insert) ActionForm 등록 -->
    	<form-bean name="reserInsertForm" 
    			   type="kr.hospi.forms.ReserForm"></form-bean> 
		<!-- reservation form등록 종료!! -->
		
		<!-- 로그인 액션폼(로그인 유효성 검사) -->
       	<form-bean name="loginForm"
       			  type="kr.hospi.actionforms.LoginActionForm"/>
	</form-beans>

	<!-- ========================================= Global Exception Definitions -->

	<global-exceptions>
	</global-exceptions>

	<!-- =========================================== Global Forward Definitions -->

	<global-forwards>
	</global-forwards>

	<!-- =========================================== Action Mapping Definitions -->

	<action-mappings>
		<!-- Tiles 타일즈 액션 등록 시작!! -->
		<!-- TODO Tiles 액션등록 !! CLIENT -->
		<!-- 클라이언트~~최초 인덱스 진입 -->
		<action path="/client"
		        forward=".client_idx"/>

		<!-- 클라이언트~~회원가입 -->
		<!-- 회원가입 단순 포워딩 -->
		<action path="/join" forward=".menu_join2" />

		<!-- 회원가입 액션 -->
		<action path="/join/join" type="kr.hospi.actions.JoinAction"
			scope="request">
			<forward name="success" path="/client/member/join_result.jsp"
				redirect="true"></forward>
			<forward name="fail" path="/client/member/join_fail.jsp"></forward>
		</action>

		<!-- 클라이언트~~로그인 -->
		<!-- 로그인 페이지 단순 포워딩 -->
		<action path="/login" forward=".menu_login" />

		<!-- 로그인 액션 -->
		<action path="/login/login" type="kr.hospi.actions.LoginAction"
			name="loginForm" validate="true" scope="request"
			input="/client/member/login_confirm.jsp">
			<forward name="success" path="/client/member/login_success.jsp"
				redirect="true"></forward>
		</action>

		<!-- 클라이언트~~회원정보 -->
		<!-- 회원정보수정 페이지 단순 포워딩 -->
		<action path="/mem/form" forward="/client/member/mem_modify.jsp" />

		<!-- 회원정보수정 액션 -->
		<action path="/mem/modify" type="kr.hospi.actions.ModifyAction"
			scope="request">
			<forward name="success" path="/client/member/mem_modify_result.jsp"
				redirect="true"></forward>
			<forward name="fail" path="/client/member/mem_modify_fail.jsp"></forward>
		</action>

		<!-- 아이디, 비밀번호 찾기 액션 -->
		<action path="/mem/lost" type="kr.hospi.actions.LostAction"
			scope="request">
			<forward name="success" path="/client/member/pass_lost_confirm.jsp"
				redirect="true"></forward>
			<forward name="fail" path="/client/member/pass_lost_confirm.jsp"></forward>
		</action>

		<!-- 클라이언트~~성형정보 -->
		<action path="/plaSur"
		        forward=".menu_plasticSurgery"/>

		<!-- 클라이언트~~온라인상담 -->
		<action path="/coun"
		        forward=".menu_counsel"/>

		<!-- 클라이언트~~예약신청 -->
		<action path="/reser"
		        forward=".menu_reservation"/>

		<!-- 클라이언트~~예약목록 -->
		<action path="/reser_info"
				type="kr.hospi.actions.ReserSelectAction">
			<forward name="reser_info" path=".menu_reservation_info"></forward>
		</action>

		<!-- 클라이언트~~예약수정 -->
		<action path="/reser_modify"
				type="kr.hospi.actions.ReserSelectAction">
			<forward name="reser_modify" path=".menu_reservation_modify"></forward>
		</action>

		<!-- 클라이언트~~견적 시작Complete-->
		<action path="/esti"
		        type="kr.hospi.actions.EstiUserAction">
			<forward name="success" path=".menu_estimate"></forward>	
		</action>

		<!-- 클라이언트~~견적결과보기 on processing-->
		<action path="/esti_res" forward="/client/estimate/esti_result.jsp">
			<!--  <forward name="success" path=".menu_estimate"></forward>	-->
		</action>

		<!-- 클라이언트~~병원소개 -->
		<action path="/intro"
		        forward=".menu_hospinfo"/>

		<!-- 클라이언트~~위치약도 -->
		<action path="/map"
		        forward=".menu_map"/>

		<!-- TODO Tiles 액션등록 !! ADMIN -->
		<!-- 어드민~~최초 인덱스 진입 -->
		<action path="/admin"
		        forward=".admin_idx"/>

		<!-- 어드민~~로그인 -->
		<action path="/ad_login"
		        forward=".ad_menu_login"/>

		<!-- 어드민~~회원정보 -->
		<action path="/ad_mem"
		        forward=".ad_menu_member"/>

		<!-- 어드민~~온라인상담 -->
		<action path="/ad_coun"
		        forward=".ad_menu_counsel"/>

		<!-- 어드민~~예약신청 -->
		<action path="/ad_reser"
		        forward=".ad_menu_reservation"/>
			
		<!-- 어드민~~견적 -->    
		<action path="/ad_esti" 
			forward="/admin/estimate/ad_esti_list.jsp"/>
			
		<!-- 어드민~~견적 -->
		<action path="/ad_input" type="kr.hospi.actions.EstiAction"
		name ="EstiActionForm" scope="request" validate="true"  input="/admin/estimate/ad_esti_input.jsp">
		<forward name="success" path=".ad_menu_estimate" redirect="true"></forward>
		      </action>

		<!-- 어드민~~사원정보 -->
		<action path="/ad_emp"
				type="kr.hospi.actions.EmpAction"
				scope="request"
				validate="true"
				input=".ad_emp_list">
			<forward name="selAll" path=".ad_emp_list"></forward>
			<forward name="selInfo" path=".ad_emp_info"></forward>
		</action>

		<!-- 어드민~~성형타입:기준 -->
		<action path="/ad_plasTy"
		        forward=".ad_menu_plasType"/>

		<!-- 어드민~~성형시술:기준 -->
		<action path="/ad_plasIt"
		        forward=".ad_menu_plasItem"/>

		<!-- 어드민~~관리등급:기준 -->
		<action path="/ad_grade"
		        forward=".ad_menu_grade"/>
		<!-- Tiles 타일즈 액션 등록 종료!! -->
		
		
		<!-- reservation액션등록 시작!! -->
		<!-- 고객용: 예약 Action(insert) 등록 -->
    	<action path="/reserIAction" 
      			type="kr.hospi.actions.ReserInsertAction"
      			name="reserInsertForm"
      			scope="request"
      			validate="true"
      			input="/reser.do">
    	  	<forward name="success" path="/reser_info.do?reser=mInfo"></forward>
    	  	<forward name="fail" path="/reser.do"></forward>
      	</action>

		<!-- 고객용: 예약 Action(update) 등록 -->
    	<action path="/reserUAction" 
      			type="kr.hospi.actions.ReserUpdateAction">
    	  	<forward name="success" path="/reser_info.do?reser=mInfo"></forward>
    	  	<forward name="fail" path="/reser_modify.do"></forward>
      	</action>
		<!-- reservation액션등록 종료!! -->

	</action-mappings>

	<!-- 컨트롤러 등록 시작!! -->
	<controller processorClass="kr.hospi.processors.ChefRequestProcessor"></controller>
	<!-- 컨트롤러 등록 종료!! -->

	<!-- ======================================== Message Resources Definitions -->

	<message-resources parameter="resources.application"/>

	<!-- =============================================== Plug Ins Configuration -->

	<!-- ======================================================= Tiles plugin -->

	<!-- Tiles Framework 플러그인 추가 시작!! -->
	<plug-in className="org.apache.struts.tiles.TilesPlugin">
		<set-property property="definitions-config" value="/WEB-INF/config/tiles-defs.xml"/>
		<set-property property="definitions-debug" value="2"/>
		<set-property property="definitions-parser-details" value="2"/>
		<set-property property="definitions-parser-validate" value="true"/>
	</plug-in>
	<!-- Tiles Framework 플러그인 추가 끝!! -->

	<!-- =================================================== Validator plugin -->

	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property
				property="pathnames"
				value="/org/apache/struts/validator/validator-rules.xml,
               /WEB-INF/validation.xml"/>
	</plug-in>

</struts-config>

